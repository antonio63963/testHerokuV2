(this.webpackJsonpherokustore=this.webpackJsonpherokustore||[]).push([[0],{105:function(e,t,r){e.exports={card_margin:"products_card_margin__32i2p",prodWrapper:"products_prodWrapper__2eaEg",spinner:"products_spinner__L8kFv"}},139:function(e,t,r){e.exports={badge:"storeIcon_badge__22zsT"}},161:function(e,t,r){},260:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),a=r(30),s=r.n(a),o=r(10),i=(r(160),r(161),r(2)),d=r(54),u=r(263),l=r(113),j=r(267),p=r(270),b=r(271),O=r(272),m=r(18),x=r(268),h=r(139),f=r.n(h),g=r(5),v=function(){var e=Object(m.c)((function(e){return e.store.generalAmount}));return Object(g.jsx)(x.a,{className:f.a.badge,count:e,overflowCount:10,children:Object(g.jsx)("i",{style:{fontSize:"30px",color:"white"},className:"fas fa-shopping-basket"})})},_=u.a.Header,y=u.a.Content,N=u.a.Footer,C=u.a.Sider;function A(e){var t=e.children,r=Object(o.f)(),c=function(e){r(e)},a=Object(n.useState)(!1),s=Object(i.a)(a,2),m=s[0],x=s[1];return Object(g.jsxs)(u.a,{style:{minHeight:"100vh"},children:[Object(g.jsxs)(_,{className:"site-layout-background",style:{padding:0},children:["HELL(O)",Object(g.jsx)(v,{})]}),Object(g.jsxs)(u.a,{children:[Object(g.jsxs)(C,{collapsible:!0,collapsed:m,onCollapse:function(e){x(e)},children:[Object(g.jsx)("div",{className:"logo"}),Object(g.jsxs)(l.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(g.jsx)(l.a.Item,{icon:Object(g.jsx)(p.a,{}),children:Object(g.jsx)("span",{onClick:function(){return c("/")},children:"Actions"})},"1"),Object(g.jsx)(l.a.Item,{icon:Object(g.jsx)(b.a,{}),children:Object(g.jsx)(d.b,{to:"/products",children:" Products "})},"2"),Object(g.jsx)(l.a.Item,{children:Object(g.jsx)("span",{onClick:function(){return c("/categories")},children:"Categories"})},"3"),Object(g.jsx)(l.a.Item,{icon:Object(g.jsx)(O.a,{}),children:Object(g.jsx)("span",{onClick:function(){return c("/store")},children:"Store"})},"9")]})]}),Object(g.jsxs)(u.a,{className:"site-layout",children:[Object(g.jsxs)(y,{style:{margin:"0 16px"},children:[Object(g.jsxs)(j.a,{style:{margin:"16px 0"},children:[Object(g.jsx)(j.a.Item,{children:"User"}),Object(g.jsx)(j.a.Item,{children:"Bill"})]}),Object(g.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:t})]}),Object(g.jsx)(N,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})]})]})]})}var S=r(65),I=r(41),k=r(266);function E(){var e=Object(m.c)((function(e){return e.categories}));return Object(g.jsx)("div",{className:"site-card-wrapper",children:Object(g.jsx)(S.a,{gutter:16,children:e.map((function(e,t){return Object(g.jsx)(I.a,{span:8,style:{marginBottom:"20px"},children:Object(g.jsx)(k.a,{title:e,bordered:!1,children:"Card content"})},t)}))})})}var D=r(1),T=r(19),w=r.n(T),P=r(48),L=r(104),$=r.n(L),U="PRODUCT_LOAD_IN_PROGRESS",R="PRODUCT_LOAD_FAIL",W="PRODUCT_ADD_BY_ID",F="GET_PRODUCTS_BY_LIMIT",z="LOADING",B="INIT_APP",M="ADD_TO_STORE",J="INCREASE_STORE",G="DELETE_ITEM_FROM_STORE",H=function(){var e=Object(P.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("im n limit!!!"),e.next=3,$.a.get("/api/products");case 3:if(t=e.sent,console.log("action by limit: ",t),200===t.status){e.next=7;break}return e.abrupt("return",{type:R});case 7:return r={type:F,payload:{products:t.data.payload}},e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(P.a)(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.a.get("https://fakestoreapi.com/products/categories");case 2:if(200===(t=e.sent).status){e.next=5;break}return e.abrupt("return",{type:R});case 5:return r={type:B,payload:{categories:t.data}},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(P.a)(w.a.mark((function e(t){var r,n,c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return r=e.sent,n=r.payload,c=n.products,console.log("products",c),e.next=8,Z();case 8:(a=e.sent).payload=Object(D.a)(Object(D.a)({},a.payload),{},{products:c}),console.log("action: ",a),t(a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(e,t){t(function(e){var t=e.id,r=e.price,n=void 0===r?0:r,c=e.title,a=void 0===c?"":c,s=e.image;return{type:M,payload:{id:t,price:n,title:a,image:void 0===s?"":s}}}(e))},Y=function(e,t){t(function(e){return{type:J,payload:e}}(e))},V=function(e,t){t(function(e){return{type:G,payload:{id:e}}}(e))},Q=r(106),X=r(52),ee=r.n(X),te=k.a.Meta;function re(e){var t=e.product,r=Object(m.b)(),c=t.id,a=void 0===c?0:c,s=t.title,o=void 0===s?"some title":s,d=t.price,u=void 0===d?1:d,l=t.image,j=t.description,p=void 0===j?"some description":j,b={id:a,title:o,price:u,image:l},O=Object(n.useState)(!1),x=Object(i.a)(O,2),h=x[0],f=x[1];return Object(g.jsxs)("div",{className:ee.a.card,children:[Object(g.jsxs)(k.a,{onMouseOver:function(e){f(!0)},hoverable:!0,style:{width:240},cover:Object(g.jsx)("div",{className:ee.a.imgWrapper,children:Object(g.jsx)("img",{alt:"example",className:ee.a.imgCard,src:l})}),children:[Object(g.jsx)(te,{title:o}),"$",u]}),Object(g.jsxs)(k.a,{onMouseOut:function(){return f(!1)},className:h?ee.a.focussedCard:ee.a.dispNone,hoverable:!0,style:{width:240},cover:Object(g.jsx)("div",{className:ee.a.imgWrapper,children:Object(g.jsx)("img",{alt:"example",className:ee.a.imgCard,src:l})}),children:[Object(g.jsx)(te,{title:o}),"$",u,Object(g.jsx)("div",{children:Object(g.jsx)(Q.a,{type:"primary",onClick:function(){return function(e,t){K(e,t)}(b,r)},children:"Add to store"})}),Object(g.jsx)("hr",{}),Object(g.jsx)("p",{children:p})]})]})}var ne=r(264);function ce(){return Object(g.jsx)("div",{className:"example",children:Object(g.jsx)(ne.a,{size:"large"})})}var ae=r(105),se=r.n(ae);var oe=function(){var e=Object(m.c)((function(e){return e})),t=Object(m.b)();console.log("Productd_out"),Object(n.useEffect)((function(){e.products||q(t),console.log("Productd")})),Object(n.useEffect)((function(){console.log(e)}),[e]);var r="SUCCESS"!==e.arrProductStatus;return Object(g.jsx)("div",{children:r?Object(g.jsx)("div",{className:se.a.prodWrapper,children:Object(g.jsx)(ce,{className:se.a.spinner,style:{position:"absolute",bottom:"50px"}})}):Object(g.jsx)(S.a,{gutter:16,children:e.products.map((function(e){return Object(g.jsx)(I.a,{className:se.a.card_margin,children:Object(g.jsx)(re,{product:e})},e.id)}))})})};function ie(){return Object(g.jsxs)(k.a,{title:"Actions",children:[Object(g.jsx)(k.a,{type:"inner",title:"Action 1",children:"Super action #1"}),Object(g.jsx)(k.a,{style:{marginTop:16},type:"inner",title:"Action 2",children:"Super action #2"})]})}var de=r(269),ue=r(265),le=r(49),je=r.n(le),pe=function(e){var t=e.props,r=t.id,n=t.ind,c=Object(m.b)(),a=Object(m.c)((function(e){return e.store.items[n]})),s=a.title,o=a.price,i=a.amount,d=a.image,u=a.sum;return Object(g.jsxs)(de.b,{size:12,children:[Object(g.jsx)(ue.a,{width:200,src:d,placeholder:Object(g.jsx)(ue.a,{preview:!1,src:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png?x-oss-process=image/blur,r_50,s_50/quality,q_1/resize,m_mfit,h_200,w_200",width:200})}),Object(g.jsxs)("div",{className:je.a.bodyCardWrapper,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{className:je.a.propName,children:"Title: "}),Object(g.jsx)("span",{children:s}),Object(g.jsxs)("h3",{className:je.a.propName,children:["Price: ",o]}),Object(g.jsx)("span",{children:o}),Object(g.jsx)("h3",{className:je.a.propName,children:"Amount:"}),Object(g.jsx)("span",{children:i}),Object(g.jsx)("h2",{className:je.a.propName,children:"Sum:"}),Object(g.jsx)("span",{children:u})]}),Object(g.jsxs)("div",{className:je.a.buttonsWrapper,children:[Object(g.jsx)(Q.a,{onClick:function(){return console.log("CLICK"),void K({id:r,ind:n},c)},className:je.a.btnAction,type:"primary",children:"Add"}),Object(g.jsx)(Q.a,{onClick:function(){Y({id:r,amount:i},c)},className:je.a.btnAction,type:"primary",children:"Decrease"}),Object(g.jsx)(Q.a,{onClick:function(){V(r,c)},className:je.a.btnAction,type:"danger",children:"Delete"})]})]})]})},be=function(){var e=Object(o.f)(),t=Object(m.c)((function(e){return e.store}));return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Store"}),Object(g.jsx)("div",{children:t.items.map((function(e,t){return Object(g.jsx)(pe,{props:{id:e.id,ind:t}},"sotoreItem".concat(t))}))}),Object(g.jsx)("hr",{}),Object(g.jsx)("h2",{style:{margin:0},children:"Total:"}),Object(g.jsx)("h3",{children:t.total.toFixed(2)}),Object(g.jsx)("button",{onClick:function(){return e("/products")},children:"\u0421ontinue shopping"})]})})};var Oe=function(){var e=Object(m.b)();return console.log("App init"),Object(n.useEffect)((function(){q(e)})),Object(g.jsx)(A,{children:Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{exact:!0,path:"/",element:Object(g.jsx)(ie,{})}),Object(g.jsx)(o.a,{exact:!0,path:"/categories",element:Object(g.jsx)(E,{})}),Object(g.jsx)(o.a,{exact:!0,path:"/products",element:Object(g.jsx)(oe,{})}),Object(g.jsx)(o.a,{exact:!0,path:"/store",element:Object(g.jsx)(be,{})})]})})},me=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,273)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;r(e),n(e),c(e),a(e),s(e)}))},xe=r(152),he=r(7),fe=r(40),ge=r.n(fe),ve={categories:[],products:[],store:{items:[],generalAmount:0,total:0}},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,r=function(t){return e.products.findIndex((function(e){return e.id===t}))},n=function(e){var t=e.store.items.reduce((function(e,t){return t.sum=t.amount*t.price,e.generalAmount+=t.amount,e.total+=t.sum,e}),{total:0,generalAmount:0}),r=t.total,n=t.generalAmount;e.store.generalAmount=n,e.store.total=r};switch(t.type){case z:return ge()(e,{arrProductStatus:{$set:{LOADING:z}}});case U:var c={id:Number(t.payload.id),status:"in_progress"};return ge()(e,{products:{$push:[c]}});case R:var a=r(t.payload.id);return ge()(e,{products:Object(he.a)({},a,{status:{$set:"fail"}})});case W:var s=r(t.payload.product.id),o=ge()(e,{products:Object(he.a)({},s,{$set:t.payload.product})});return console.log("add : ",s,o),o;case F:return ge()(e,{products:{$set:t.payload.products},arrProductStatus:{$set:"SUCCESS"}});case B:return ge()(e,{categories:{$set:t.payload.categories},products:{$set:t.payload.products},arrProductStatus:{$set:"SUCCESS"}});case M:var i=e.store.items.reduce((function(e,r,n){return r.id===t.payload.id&&(e.ind=n,e.amount=r.amount+1),e}),{ind:null,amount:null});if(console.log("REDUCE: ",i),null===i.ind){var d=Object(D.a)(Object(D.a)({},t.payload),{},{amount:1}),u=ge()(e,{store:{items:{$push:[d]}}});return n(u),u}var l=ge()(e,{store:{items:Object(he.a)({},i.ind,{amount:{$set:i.amount}})}});return n(l),console.log("for store: ",l),l;case J:var j=t.payload,p=j.id,b=j.amount;if(0===b)return e;console.log("INcrease: ",b);var O=r(p);console.log("inc ind: ",O);var m=ge()(e,{store:{items:Object(he.a)({},O,{amount:{$set:b-1}})}});return n(m),console.log("inc state: ",m),m;case G:var x=t.payload.id,h=r(x),f=ge()(e,{store:{items:{$splice:[[h,1]]}}});return n(f),f;default:return e}},ye=Object(xe.a)(_e);s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(m.a,{store:ye,children:Object(g.jsx)(d.a,{children:Object(g.jsx)(Oe,{})})})}),document.getElementById("root")),me()},49:function(e,t,r){e.exports={bodyCardWrapper:"storeItem_bodyCardWrapper__oXa-o",btnAction:"storeItem_btnAction__1DLuL",propName:"storeItem_propName__2c12c"}},52:function(e,t,r){e.exports={imgCard:"card_imgCard__3qJWg",imgWrapper:"card_imgWrapper__3UmUB",spinner:"card_spinner__3zKaA",card:"card_card__2_QZT",focussedCard:"card_focussedCard__20mJJ",hidden:"card_hidden__2YuwZ",dispNone:"card_dispNone__14y2i"}}},[[260,1,2]]]);
//# sourceMappingURL=main.4451c365.chunk.js.map